<mat-card class="min-width">
  <mat-card-header>
    <mat-card-title>Detalhes da Ordem de Serviço</mat-card-title>
  </mat-card-header>
  <mat-card-content class="full-width">
    <form [formGroup]="form">

      <mat-form-field class="full-width desativado">
        <input matInput readonly placeholder="Número" formControlName="numero">
      </mat-form-field>

      <mat-form-field class="full-width">
        <textarea matInput placeholder="Descrição" formControlName="descricao"></textarea>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Profissionais</mat-label>
        <mat-chip-list #chipList>
          <mat-chip *ngFor="let profissional of profissionais" (removed)="remove(profissional)">
            {{profissional}}
            <button matChipRemove>
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip>
          <input placeholder="Add Profissional..." #profisionalInput [formControl]="profissionaisCtrl"
            [matAutocomplete]="auto" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            (matChipInputTokenEnd)="add($event)">
        </mat-chip-list>
        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
          <mat-option *ngFor="let profissional of profissionaisFiltrados | async" [value]="profissional">
            {{profissional}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Serviço</mat-label>
        <mat-select multiple>
          <mat-option *ngFor="let item of allServicos" value={{item.nome}}>
            {{item.nome}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div class="demo-button-container">
        <button mat-stroked-button color="primary" (click)="addServicos()" class="demo-button">
          Add Serviços
        </button>
      </div>

      <div class="quadro-detalhes">
        <table mat-table
              [dataSource]="servicos"
              matSort>
          <caption>Serviços selecionados</caption>

          <!-- ID Column -->
          <ng-container matColumnDef="descricao">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Descricao </th>
            <td mat-cell class="td-id" *matCellDef="let row"> {{row.descricao}} </td>
          </ng-container>

          <!-- Progress Column -->
          <ng-container matColumnDef="und">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="td-sm"> Und </th>
            <td mat-cell *matCellDef="let row" class="td-sm"> {{row.und}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="quantidade">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="td-sm"> Quantidade </th>
            <td mat-cell class="td-sm" *matCellDef="let row"> {{row.quantidade}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>

        </table>
      </div>

    </form>
  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="salvar()">Salvar</button>
    <button mat-raised-button (click)="cancelar()">Cancelar</button>
  </mat-card-actions>

</mat-card>
